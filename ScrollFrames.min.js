class ScrollFrames{constructor(e,t){this.item="string"==typeof e?document.querySelector(e):e,this.item.classList.contains("ScrollFrames")||this.item.classList.add("ScrollFrames"),this.index=0,this.frames=this.framesToObject(t),this.framesKeys=Object.keys(this.frames),this.totalFrames=this.framesKeys.length-1,this.setFramePosition(),window.addEventListener("scroll",(()=>this.setFramePosition())),window.addEventListener("resize",(()=>{new Promise(((e,t)=>{document.querySelectorAll(".ScrollFrames").forEach((e=>e.removeAttribute("style"))),e(),t()})).then((e=>{this.setFramePosition()}),(e=>{alert("An unexpected error occured. Please reload the page.")}))}))}framesToObject(e){let t={};for(let s in e)t[s]=this.stylesToObject(e[s]);return t}stylesToObject(e){let t={},s=e.split(";");s.filter((e=>""!=e));for(let e of s){let s=e.split(":");2==s.length&&(t[s[0].trim()]=s[1].trim())}return t}percentsCompleted(){let e=this.scrollPosition();return e<this.framesKeys[this.index-1]?0:e>this.framesKeys[this.index]?100:Number((e-this.framesKeys[this.index-1])/(this.framesKeys[this.index]-this.framesKeys[this.index-1])*100)}updateIndex(){let e=this.scrollPosition();for(let t=0;t<=this.totalFrames;t++){if(e<=this.framesKeys[0]){this.index=0;break}if(e>this.framesKeys[t-1]&&e<=this.framesKeys[t]){this.index=t;break}this.index=this.totalFrames+1}}scrollPosition(){return window.scrollY+window.innerHeight}setFramePosition(){if(this.updateIndex(),0==this.index||this.index>this.totalFrames){let e=this.frames[this.framesKeys[0==this.index?0:this.totalFrames]];for(let t in e)this.item.style[t]=e[t]}else{let e=this.frames[this.framesKeys[this.index-1]],t=this.frames[this.framesKeys[this.index]];for(let s in e){let i=/(-?\d\.\d)|-?\d+/g;if(s in t&&i.test(e[s])){let r=t[s].match(i),l=0,h=e[s].replace(i,(e=>{let t=Number(e)+(r[l]-e)*this.percentsCompleted()/100;return l++,t.toFixed(2)}));this.item.style[s]=h}else this.item.style[s]=e[s]}}}}