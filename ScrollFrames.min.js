class ScrollFrames{constructor(e,s={}){this.item="string"==typeof e?document.querySelector(e):e,e===window?(this.frames=s,this.frames.duration||(this.frames.duration=1200),this.frames.ease||(this.frames.ease=e=>Math.min(1,1.001-Math.pow(2,-10*e))),this.frames.multiply||(this.frames.multiply=1),this.scrollOffset=0,this.scrollTimeout,window.addEventListener("wheel",e=>{e.preventDefault();let s=e.deltaY>0?document.body.scrollHeight-window.scrollY:-window.scrollY;this.scrollOffset+=e.deltaY*this.frames.multiply,Math.abs(s)<Math.abs(this.scrollOffset)&&(this.scrollOffset=s),clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(()=>this.scrollOffset=0,100),this.scrollToBottom(this.scrollOffset)},{passive:!1})):(this.item.classList.contains("ScrollFrames")||this.item.classList.add("ScrollFrames"),this.index=0,this.frames=this.framesToObject(s),this.framesKeys=Object.keys(this.frames),this.totalFrames=this.framesKeys.length-1,this.setFramePosition(),window.addEventListener("scroll",()=>this.setFramePosition()),window.addEventListener("resize",()=>{new Promise((e,s)=>{document.querySelectorAll(".ScrollFrames").forEach(e=>e.removeAttribute("style")),e(),s()}).then(e=>{this.setFramePosition()},e=>{alert("An unexpected error occured. Please reload the page.")})}))}framesToObject(e){let s={};for(let t in e)s[t]=this.stylesToObject(e[t]);return s}stylesToObject(e){let s={},t=e.split(";");for(let i of(t.filter(e=>""!=e),t)){let r=i.split(":");2==r.length&&(s[r[0].trim()]=r[1].trim())}return s}percentsCompleted(){let e=this.scrollPosition();return e<this.framesKeys[this.index-1]?0:e>this.framesKeys[this.index]?100:Number((e-this.framesKeys[this.index-1])/(this.framesKeys[this.index]-this.framesKeys[this.index-1])*100)}updateIndex(){let e=this.scrollPosition();for(let s=0;s<=this.totalFrames;s++){if(e<=this.framesKeys[0]){this.index=0;break}if(e>this.framesKeys[s-1]&&e<=this.framesKeys[s]){this.index=s;break}this.index=this.totalFrames+1}}scrollPosition(){return window.scrollY+window.innerHeight}setFramePosition(){if(this.updateIndex(),0==this.index||this.index>this.totalFrames){let e=this.frames[this.framesKeys[0==this.index?0:this.totalFrames]];for(let s in e)this.item.style[s]=e[s]}else{let t=this.frames[this.framesKeys[this.index-1]],i=this.frames[this.framesKeys[this.index]];for(let r in t){let l=/(-?\d\.\d)|-?\d+/g;if(r in i&&l.test(t[r])){let o=i[r].match(l),a=0,h=t[r].replace(l,e=>{let s=Number(e)+(o[a]-e)*this.percentsCompleted()/100;return a++,s.toFixed(2)});this.item.style[r]=h}else this.item.style[r]=t[r]}}}scrollToBottom(e){let s=window.scrollY,t=s+e,i=this.frames.duration,r=this.frames.ease,l=performance.now();window.requestAnimationFrame(function e(){let o=performance.now()-l,a=Math.min(o/i,1),h=r(a);window.scrollTo(0,s+(t-s)*h),a<1&&window.requestAnimationFrame(e)})}}
